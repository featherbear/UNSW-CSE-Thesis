<!doctype html><html lang=en><meta charset=utf-8>
<meta name=viewport content="width=device-width">
<title>4. Thesis Plan | Report A | CSE Thesis Musings</title>
<meta name=generator content="Hugo Eureka 0.8.2">
<link rel=stylesheet href=../../../css/eureka.min.css>
<script defer src=../../../js/eureka.min.js></script>
<link rel=preconnect href=https://fonts.gstatic.com crossorigin>
<link rel=preload href="https://fonts.googleapis.com/css2?family=Lora:wght@400;600;700&family=Noto+Serif+SC:wght@400;600;700&display=swap" as=style onload="this.onload=null,this.rel='stylesheet'">
<link rel=stylesheet href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/styles/solarized-light.min.css media=print onload="this.media='all',this.onload=null" crossorigin>
<script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/highlight.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.1.0/build/languages/dart.min.js crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.14.0/js/all.min.js integrity="sha256-uNYoXefWRqv+PsIF/OflNmwtKM4lStn9yrz2gVl6ymo=" crossorigin></script>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css integrity=sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X media=print onload="this.media='all',this.onload=null" crossorigin>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.js integrity=sha384-g7c+Jr9ZivxKLnZTDUhnkOnsh30B4H0rpLUpJ4jAIKs4fnJI+sEnkvrMWph2EDg4 crossorigin></script>
<script defer src=https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/contrib/auto-render.min.js integrity=sha384-mll67QQFJfxn0IYznZYonOWZ644AWYC+Pt2cHqMaRhXVrursRwvLnLaebdGIlYNa crossorigin></script>
<script>document.addEventListener("DOMContentLoaded",function(){renderMathInElement(document.body,{delimiters:[{left:"$$",right:"$$",display:!0},{left:"$",right:"$",display:!1},{left:"\\(",right:"\\)",display:!1},{left:"\\[",right:"\\]",display:!0}]})})</script>
<script defer src=https://cdn.jsdelivr.net/npm/mermaid@8.9.2/dist/mermaid.min.js integrity="sha256-Zmpaaj+GXFsPF5WdPArSrnW3b30dovldeKsW00xBVwE=" crossorigin></script>
<link rel=preconnect href=https://www.google-analytics.com crossorigin>
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-107434487-2"></script>
<script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','UA-107434487-2')</script>
<script>(function(e,b,f,c,a,d){b[c]=b[c]||function(){(b[c].q=b[c].q||[]).push(arguments)},a=e.createElement('script'),d=e.getElementsByTagName('script')[0],a.async=1,a.src=f,a.id='fathom-script',d.parentNode.insertBefore(a,d)})(document,window,'//ss.featherbear.cc/tracker.js','fathom'),fathom('set','siteId','NEQTU'),fathom('trackPageview')</script>
<style>html.dark{--color-primary-bg:#232327 !important}div#sidebar-toc>ul.pl-6{margin-left:1em}</style>
<meta name=description content="Thesis Plan Statement With the widespread availability of IoT devices, there is large interest in exploring how manufacturers of IoT / smart home devices have addressed the increasing concerns of digital privacy and product security. This thesis aims to explore the stance and measures that Roborock has taken regarding privacy policies and security concerns in their Roborock S6 robot vacuum cleaner.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Docs","item":"/docs/"},{"@type":"ListItem","position":2,"name":"Report A","item":"/docs/report-c/"},{"@type":"ListItem","position":3,"name":"4. Thesis Plan","item":"/docs/report-c/proposal/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","mainEntityOfPage":{"@type":"WebPage","@id":"/docs/report-c/proposal/"},"headline":"4. Thesis Plan | Report A | CSE Thesis Musings","wordCount":1128,"publisher":{"@type":"Person","name":"A. Wong"},"description":"Thesis Plan Statement With the widespread availability of IoT devices, there is large interest in exploring how manufacturers of IoT \/ smart home devices have addressed the increasing concerns of digital privacy and product security. This thesis aims to explore the stance and measures that Roborock has taken regarding privacy policies and security concerns in their Roborock S6 robot vacuum cleaner."}</script><meta property="og:title" content="4. Thesis Plan | Report A | CSE Thesis Musings">
<meta property="og:type" content="article">
<meta property="og:url" content="/docs/report-c/proposal/">
<meta property="og:description" content="Thesis Plan Statement With the widespread availability of IoT devices, there is large interest in exploring how manufacturers of IoT / smart home devices have addressed the increasing concerns of digital privacy and product security. This thesis aims to explore the stance and measures that Roborock has taken regarding privacy policies and security concerns in their Roborock S6 robot vacuum cleaner.">
<meta property="og:locale" content="en">
<meta property="og:site_name" content="CSE Thesis Musings">
<meta property="article:section" content="docs">
<body class="flex flex-col min-h-screen">
<header class="fixed flex items-center w-full min-h-16 pl-scrollbar z-50 bg-secondary-bg shadow-sm">
<div class="w-full max-w-screen-xl mx-auto"><script>let storageColorScheme=localStorage.getItem("lightDarkMode");((storageColorScheme=='Auto'||storageColorScheme==null)&&window.matchMedia("(prefers-color-scheme: dark)").matches||storageColorScheme=="Dark")&&document.getElementsByTagName('html')[0].classList.add('dark')</script>
<nav class="flex items-center justify-between flex-wrap px-4 py-4 md:py-0">
<a href=../../../ class="mr-6 text-primary-text text-xl font-bold">CSE Thesis Musings</a>
<button id=navbar-btn class="md:hidden flex items-center px-3 py-2" aria-label="Open Navbar">
<i class="fas fa-bars"></i>
</button>
<div id=target class="hidden block md:flex md:flex-grow md:justify-between md:items-center w-full md:w-auto text-primary-text z-20">
<div class="md:flex md:h-16 text-sm md:flex-grow pb-4 md:pb-0 border-b md:border-b-0">
<a href=../../../#about class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">About</a>
<a href=../../../posts/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">Posts</a>
<a href=../../../docs/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 selected-menu-item mr-4">Docs</a>
<a href=../../../tldr/ class="block mt-4 md:inline-block md:mt-0 md:h-(16-4px) md:leading-(16-4px) box-border md:border-t-2 md:border-b-2 border-transparent mr-4">Progress Log</a>
</div>
<div class=flex>
<div class="relative pt-4 md:pt-0">
<div class="cursor-pointer hover:text-eureka" id=lightDarkMode>
<i class="fas fa-adjust"></i>
</div>
<div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-30" id=is-open>
</div>
<div class="absolute flex flex-col left-0 md:left-auto right-auto md:right-0 hidden bg-secondary-bg w-48 rounded py-2 border border-tertiary-bg cursor-pointer z-40" id=lightDarkOptions>
<span class="px-4 py-1 hover:text-eureka" name=Light>Light</span>
<span class="px-4 py-1 hover:text-eureka" name=Dark>Dark</span>
<span class="px-4 py-1 hover:text-eureka" name=Auto>Auto</span>
</div>
</div>
</div>
</div>
<div class="fixed hidden inset-0 opacity-0 h-full w-full cursor-default z-0" id=is-open-mobile>
</div>
</nav>
<script>let element=document.getElementById('lightDarkMode');storageColorScheme==null||storageColorScheme=='Auto'?document.addEventListener('DOMContentLoaded',()=>{window.matchMedia("(prefers-color-scheme: dark)").addEventListener('change',switchDarkMode)}):storageColorScheme=="Light"?(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'sun'),element.firstElementChild.classList.add('fa-sun')):storageColorScheme=="Dark"&&(element.firstElementChild.classList.remove('fa-adjust'),element.firstElementChild.setAttribute("data-icon",'moon'),element.firstElementChild.classList.add('fa-moon')),document.addEventListener('DOMContentLoaded',()=>{getcolorscheme(),switchBurger()})</script>
</div>
</header>
<main class="flex-grow pt-16">
<div class=pl-scrollbar>
<div class="w-full max-w-screen-xl lg:px-4 xl:px-8 mx-auto">
<div class=lg:pt-12>
<div class="flex flex-col md:flex-row bg-secondary-bg rounded">
<div class="md:w-1/4 lg:w-1/5 border-r">
<div class="sticky top-16 pt-6">
<div id=sidebar-title class="md:hidden mx-4 px-2 pt-4 pb-2 md:border-b text-tertiary-text md:text-primary-text">
<span class=font-semibold>Table of Contents</span>
<i class="fas fa-caret-right ml-1"></i>
</div>
<div id=sidebar-toc class="hidden md:block overflow-y-auto mx-6 md:mx-0 pr-6 pt-2 md:max-h-doc-sidebar bg-primary-bg md:bg-transparent">
<div class="flex flex-wrap ml-4 -mr-2 p-2 bg-secondary-bg md:bg-primary-bg rounded">
<a class=hover:text-eureka href=../../../docs/report-c/>Report A</a>
</div>
<ul class=pl-6>
<li class=py-2>
<div>
<a class=hover:text-eureka href=../../../docs/report-c/acronyms/>Glossary of Acronyms</a>
</div>
</li>
<li class=py-2>
<div>
<a class=hover:text-eureka href=../../../docs/report-c/introduction/>1. Introduction</a>
</div>
</li>
<li class=py-2>
<div>
<a class=hover:text-eureka href=../../../docs/report-c/background/>2. Background</a>
</div>
</li>
<li class=py-2>
<div>
<a class=hover:text-eureka href=../../../docs/report-c/literature-review/>3. Literature Review</a>
</div>
</li>
<li class=py-2>
<div>
<a class="text-eureka hover:text-eureka" href=../../../docs/report-c/proposal/>4. Thesis Plan</a>
</div>
</li>
<li class=py-2>
<div>
<a class=hover:text-eureka href=../../../docs/report-c/progress/>5. Preliminary Results</a>
</div>
</li>
<li class=py-2>
<div>
<a class=hover:text-eureka href=../../../docs/report-c/conclusion/></a>
</div>
</li>
<li class=py-2>
<div>
<a class=hover:text-eureka href=../../../docs/report-c/todos/></a>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="w-full md:w-3/4 lg:w-4/5 pb-8 pt-2 md:pt-8">
<div class="w-full lg:w-3/4 pl-6 ml-0 mr-auto">
<h1 class="font-bold text-3xl text-primary-text">4. Thesis Plan</h1>
<div class="flex flex-wrap flex-row items-center mt-2 text-tertiary-text">
</div>
</div>
<div class=flex>
<div class="w-full lg:w-3/4 px-6">
<div class=content>
<h1 id=thesis-plan>Thesis Plan</h1>
<h2 id=statement>Statement</h2>
<p>With the widespread availability of IoT devices, there is large interest in exploring <strong>how manufacturers of IoT / smart home devices have addressed the increasing concerns of digital privacy and product security</strong>. This thesis aims to explore the stance and measures that Roborock has taken regarding privacy policies and security concerns in their Roborock S6 robot vacuum cleaner.</p>
<p>Whilst the Roborock S6 vacuum cleaner has been assessed before [@DennisGiese-2019], there has since been significant changes and updates to the firmware and communications protocol - with security vulnerabilities even being reported recently<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>. As such, it is favourable to perform a replication study of Giese&rsquo;s past work, as well as to complete further in-depth security and privacy assessments of the Roborock S6.</p>
<h2 id=plan>Plan</h2>
<h3 id=overview>Overview</h3>
<p>During the course of Thesis A - initial product research was performed, and tasks were set out for Thesis B and Thesis C. The software, hardware and tooling that are required to carry out the thesis were also investigated and obtained in preparation for the remainder of the thesis, where a concurrent assessment will be performed on the Roborock S6&rsquo;s digital privacy and product security.</p>
<p>In Thesis B, a security assessment of the device will be performed, where the Roborock S6 firmware will be analysed in order to identify potential security vulnerabilities that may either render the device insecure, or raise concern to other devices connected to the same network (i.e devices on a home network). These vulnerabilities include vulnerable code as well as insecure or static secrets, credentials and configurations. A review of existing security fortifications will also be executed to audit Roborock&rsquo;s security posture and response to reported disclosures. Techniques and IoT forensics checklists will be followed from various sources and handbooks [@fi12020027] to maximise search and analysis coverage. The product security analysis of the Roborock S6 will be the primary milestone for Thesis B, however privacy analysis will also be performed simultaneously.</p>
<p>In thesis C, an investigation into the nature of networked data will be performed to qualify how important Roborock values the concerns of their customers' digital privacy. This investigation will involve the observation of the device&rsquo;s behaviour, where the frequency, size, content and destination of transmitted data will be analysed to gain heuristic insights of how the data might be used by Roborock. An audit of what <strong>PII</strong> and <strong>UGC</strong> is being transmitted will also be performed to address concerns of tracking and (de)anonymisation. This digital privacy assessment of the Roborock S6 will be the primary milestone for Thesis C, however research into the device&rsquo;s product security will also be continued.</p>
<p>It should be noted research into the security of the Xiaomi Home smartphone application is beyond the scope of this thesis and will only be investigated should it be required, as extensive research on the application&rsquo;s security has already been completed [@8939043; @fi12020027; @DennisGiese-2019]</p>
<h3 id=stretch-goals>Stretch Goals</h3>
<p>Should the major thesis milestones be accomplished ahead of schedule and sufficient time remains, an investigation into the verbosity of sensor data will be performed to explore the extent to which data can be extracted from the sensors, and of whether they are of a privacy concern. This investigation will also entail a search for other side-channel data similar to intensity values from the LIDAR sensor [@10.1145/3384419.3430430].</p>
<p>Alternately, the functionality of the Micro USB / ADB port located on the chassis of the Roborock S6 will be investigated. Whilst there has been discussion regarding replacing the custom Android Debugging Bridge (ADB) binary with a complete version, there is little to no information available concerning the functionality of the original binary. This investigation will likely involve a binary disassembly of the custom ADB binary in addition to an exploration of the ADB USB protocol.</p>
<h3 id=contingency>Contingency</h3>
<p>Contingencies have been provisioned in the event that the proposed research plans cannot be executed.</p>
<p>Should it not be possible to gain access to the Roborock S6&rsquo;s firmware in any way (hence prohibiting a binary firmware analysis), focus will turn towards a black-box assessment of the vacuum cleaner&rsquo;s network behaviour. Network activity will be then be observed for a longer period of time over the course of Thesis B and Thesis C as to detect long-term patterns and possibly changing behaviours.</p>
<p>Alternatively, the network interactions of the <a href="https://play.google.com/store/apps/details?id=com.xiaomi.smarthome" style="text-decoration:underline dotted">Xiaomi Home</a> smartphone application may be assessed, where local communications between the vacuum cleaner and the smartphone application can be observed under both scopes of privacy and security. This approach will entail the observation of network packets to look for questionable data and weak security measures.</p>
<hr>
<h2 id=project-preparations>Project Preparations</h2>
<h3 id=acquisition-of-software-hardware-and-tooling>Acquisition of Software, Hardware and Tooling</h3>
<p>It is estimated that a minimal amount of hardware and physical resources will be required for the completion of this project.</p>
<p>In observing network behaviour in a secure manner, an isolated wireless network be needed - which requires the acquisition of a wireless access point, a network switch capable of port mirroring and an active internet connection. To analyse network packets, the free <a href=https://www.wireshark.org/>Wireshark</a> network protocol analyser will be used in conjunction with a Man-In-The-Middle proxy like <a href=https://portswigger.net/burp>Burp Suite</a> or <a href=https://mitmproxy.org/>mitmproxy</a>. All of the required software and hardware to perform networking monitoring of the Roborock S6 has already been obtained, with preliminary results recorded in Chapter 5.</p>
<p>To perform a security analysis of the robot vacuum cleaner&rsquo;s firmware, physical entry into the vacuum cleaner must first be performed in order to gain access to the UART pins on the device&rsquo;s circuit board, from which further post-exploitation and analysis can then occur. In order to interface with the UART pins, spare jumper wires and a soldering iron will be required as the UART pins are exposed as test pads rather than pin headers. Additionally a UART interface (i.e. USB to TTL UART) is also required, however all tools have already been obtained. Whilst hardware such as flash chip programmers and microsoldering stations may be beneficial to creating an image of the Roborock S6&rsquo;s firmware, preliminary testing had successfully allowed for a root shell to be obtained as later discussed in Chapter 5. As consequence, these additional devices will not be required. To perform firmware and binary analysis, tools like <a href=https://binary.ninja/>Binary Ninja</a>, <a href=https://github.com/ReFirmLabs/binwalk>binwalk</a> and <a href=https://www.zynamics.com/bindiff.html>bindiff</a> have been obtained.</p>
<h3 id=upskilling-and-learning>Upskilling and Learning</h3>
<p>Prior to the security analysis of binary images found in the Roborock S6 firmware, sound understanding of the ARM processor instruction set (ISA) must be obtained in order to understand the disassembled instructions. In-depth understanding of ARM-specific and embedded systems-specific protection mechanisms such as processor modes, protection rings, OPTEE and RPMB may be required to be learned as subtle vulnerabilities are discovered.</p>
<p>It will also be beneficial to be familiarised with both the common and uncommon paths that should be looked at in a Linux system forensics analysis, as relevant to the research performed by @{fi12020027}.</p>
<section class=footnotes role=doc-endnotes>
<hr>
<ol>
<li id=fn:1 role=doc-endnote>
<p><a href=https://global.roborock.com/pages/disclosure-security-vulnerability-on-tuya-iot-cloud>https://global.roborock.com/pages/disclosure-security-vulnerability-on-tuya-iot-cloud</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p>
</li>
</ol>
</section>
</div>
<div class="flex flex-col md:flex-row md:justify-between -mx-2 mt-4 px-2 pt-4 border-t">
<div>
<span class="block font-bold">Previous</span>
<a href=../../../docs/report-c/literature-review/ class=block>3. Literature Review</a>
</div>
<div class="md:text-right mt-4 md:mt-0">
<span class="block font-bold">Next</span>
<a href=../../../docs/report-c/progress/ class=block>5. Preliminary Results</a>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<script>document.addEventListener('DOMContentLoaded',()=>{hljs.initHighlightingOnLoad(),changeSidebarHeight(),switchDocToc()})</script>
</div>
</div>
</main>
<footer class=pl-scrollbar>
<div class="w-full max-w-screen-xl mx-auto"><div class="text-center p-6 pin-b">
<p class="text-sm text-tertiary-text">&copy; 2021 <a href=https://featherbear.cc>Andrew Wong (z5206677)</a>
&#183; Powered by the <a href=https://github.com/wangchucheng/hugo-eureka class=hover:text-eureka>Eureka</a> theme for <a href=https://gohugo.io class=hover:text-eureka>Hugo</a></p>
</div></div>
</footer>
</body>
</html>