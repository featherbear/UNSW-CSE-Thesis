<script type="text/javascript">
  // Apply default fade to slide transition
  for (let slide of document.querySelectorAll(".reveal .slides > section")) {
    if (!slide.dataset.transition) {
      slide.dataset.transition = "fade-out slide-in";
    }
  }

  if (location.search.slice(1) === 'noControls') {
    let interval = setInterval(() => {
      document.querySelector('.reveal .progress').style.display = 'none'
      document.querySelector('.reveal .controls').style.display = 'none'
      document.querySelector('.reveal .slide-number').style.display = 'none'
      clearInterval(interval)
    }, 250)
    
  }

  // CSS polyfill
  /*
    p:has(img[alt*=center]) {
      text-align: center;
    }
  */
  document.querySelectorAll('p img').forEach(imgElem => {
    if (imgElem.alt != 'center') return
    let parentElem = imgElem;
    while (parentElem.tagName != 'P') parentElem = parentElem.parentNode
    parentElem.style.textAlign = 'center'
  })
</script>
