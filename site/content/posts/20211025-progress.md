+++
categories = []
date = 2021-10-25T14:46:46Z
description = ""
draft = true
series = []
tags = []
title = "20211025 Progress"
toc = true

+++
## Observations

* Data is encrypted through SSL (HTTPS) as well as in-protocol encryption
  * Good!
  * 

**Every 2 seconds**

* 161.116.5.107 -> RoboRock (UDP 8053 to 48041) - len=112
* RoboRock -> 161.116.5.107 (UDP 48041 -> 8053) - len=336

**\[Find Robot\] Function (Xiaomi Home)**

* 161.117.5.107 -> RoboRock (UDP) - len=96
* RoboRock -> 161.117.5.107 (UDP) - len=64

![](/uploads/20211025-snipaste_2021-10-26_01-29-25.jpg)  

len32 keepalive?

renaming doesn't send any update packet?

## Wireshark Filter for TZSP

> i.e. Port Mirroring from the Mikrotik router

    tzsp && !stp && !(ip.dst == 192.168.0.24 || ip.src == 192.168.0.24) &&  !(ip.dst == 10.10.10.2 || ip.src == 10.10.10.2)

***

## Note

* Initial connection from Xiaomi Home to the Roborock required internet (to load the main 'plugin' page)
  * After initial connection, internet could be disconnected and some features were still able to work?
    * Possibly bad firewall-ing of the internet
* Could not see local network activity between the Xiaomi Home app and the Roborock
  * Don't use Port Sniffing on the router!
    * The switch does not forward packets to the router
    * Use the switch's port mirroring functionality instead