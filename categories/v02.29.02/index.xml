<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>v02.29.02 on CSE Thesis Musings</title><link>/categories/v02.29.02/</link><description>Recent content in v02.29.02 on CSE Thesis Musings</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>&amp;copy; 2021-2022 &lt;a href="https://featherbear.cc">Andrew Wong (z5206677)&lt;/a></copyright><lastBuildDate>Sun, 24 Jul 2022 16:50:28 +0000</lastBuildDate><atom:link href="/categories/v02.29.02/index.xml" rel="self" type="application/rss+xml"/><item><title>Firmware size comparison (v02.29.02 to v01.15.58)</title><link>/posts/v02.29.02/firmware-size-comparison/</link><pubDate>Sun, 24 Jul 2022 16:50:28 +0000</pubDate><guid>/posts/v02.29.02/firmware-size-comparison/</guid><description>&amp;gt; find v01.15.58 -type f | wc -l 10680 &amp;gt; du -sh v01.15.58 242M v01.15.58 ### &amp;gt; find v02.29.02 -type f | wc -l 1976 &amp;gt; du -sh v02.29.02 98M v02.29.02</description></item><item><title>netstat</title><link>/posts/v02.29.02/netstat/</link><pubDate>Wed, 13 Jul 2022 10:55:08 +0000</pubDate><guid>/posts/v02.29.02/netstat/</guid><description>Compare to: netstat
Compare to: Which Process, Which Port, Which Connection
[root@rockrobo z5206677]# netstat -pa Active Internet connections (servers and established) Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:ssh 0.0.0.0:* LISTEN 372/dropbear tcp 0 0 localhost:55551 0.</description></item><item><title>tcpdump usage</title><link>/posts/v02.29.02/tcpdump-usage/</link><pubDate>Mon, 11 Jul 2022 17:59:43 +0000</pubDate><guid>/posts/v02.29.02/tcpdump-usage/</guid><description>In v02.29.02, tcpdump gets called!
/opt/rockrobo/wlan/wlanmgr tcpdump -i any -s 0 -C %lu -W %d -Z root -w %s/%s/%s &amp;amp;
wifi_debug_do(i) i=0 - Cleanup i=1 - Do capture i=2 - Stop capture i=3 - wifi_debug_collect.sh /mnt/data/debug /opt/rockrobo/wlan/wifi_debug_collect.</description></item><item><title>/opt/rockrobo/rrlog/rrlogd (v02.29.02)</title><link>/posts/execs/opt-rockrobo-rrlog-rrlogd-v02.29.02/</link><pubDate>Mon, 11 Jul 2022 15:51:06 +0000</pubDate><guid>/posts/execs/opt-rockrobo-rrlog-rrlogd-v02.29.02/</guid><description>The updated rrlogd now runs iptables to drop SSH on the false branch of the version check.
If ver &amp;gt; 1 (e.g. 2 or 3) - allow
Else drop
See old version</description></item><item><title>Upgrade Persistence Results</title><link>/posts/v02.29.02/upgrade-persistence-results/</link><pubDate>Mon, 11 Jul 2022 15:34:35 +0000</pubDate><guid>/posts/v02.29.02/upgrade-persistence-results/</guid><description>These directories/files persisted in the upgrade
/mnt/reserve/z5206677.was.here.update /mnt/reserve/rriot/z5206677.was.here.update /mnt/reserve/lost+found/z5206677.was.here.update /mnt/data/z5206677.was.here.update /mnt/data/rriot/tuya_db/z5206677.was.here.update /mnt/data/rriot/z5206677.was.here.update /mnt/data/rockrobo/z5206677.was.here.update /mnt/data/rockrobo/rrlog/z5206677.was.here.update /mnt/data/rockrobo/rrlog/**/z5206677.was.here.update /mnt/data/rockrobo/noupload/z5206677.was.here.update /mnt/data/rockrobo/map/z5206677.was.here.update /mnt/data/rockrobo/devtest/z5206677.was.here.update /mnt/data/rockrobo/devtest/**/z5206677.was.here.update /mnt/data/wlan/z5206677.was.here.update /mnt/data/miio/z5206677.was.here.update /mnt/data/lost+found/z5206677.was.here.update Second run from fresh install /mnt/reserve/rriot/z5206677.was.here.upgrade /mnt/reserve/lost+found/z5206677.was.here.upgrade /mnt/reserve/z5206677.was.here.upgrade /mnt/data/lost+found/z5206677.was.here.upgrade /mnt/data/rriot/tuya_db/z5206677.was.here.upgrade /mnt/data/rriot/z5206677.was.here.upgrade /mnt/data/wlan/z5206677.was.here.upgrade /mnt/data/rockrobo/noupload/z5206677.was.here.upgrade /mnt/data/rockrobo/devtest/z5206677.was.here.upgrade /mnt/data/rockrobo/map/z5206677.was.here.upgrade /mnt/data/rockrobo/rrlog/z5206677.was.here.upgrade /mnt/data/rockrobo/z5206677.</description></item><item><title>Versioning and Fingerprinting</title><link>/posts/v02.29.02/versioning-and-fingerprinting-v02.29.02/</link><pubDate>Mon, 11 Jul 2022 14:05:05 +0000</pubDate><guid>/posts/v02.29.02/versioning-and-fingerprinting-v02.29.02/</guid><description>bash-4.3# cat rr-info A.01.0014-V2902
bash-4.3# cat OS_VERSION ro.product.device=TANOS_V2902-2022042802REL_M3.5.8_T4.1.4-2_RELEASE_20220428-202811 ro.build.display.id=TANOS_MP_R16_RELEASE_20220428-202811 ro.sys.cputype=R16.STM32.A3.G1 ro.build.version.release=V2902 ro.build.date.utc=1651148891 uname -a Linux rockrobo 3.4.39 #1 SMP PREEMPT Thu Apr 28 20:27:25 CST 2022 armv7l GNU/Linux ::sysinit:/etc/init/rcS S start ::shutdown:/etc/init/rcS K stop ::respawn:WatchDoge $RR_ROOT/watchdog &amp;gt;&amp;gt; $RR_UDATA/rockrobo/rrlog/watchdog.log 2&amp;gt;&amp;amp;1 ::respawn:/usr/bin/adbd ::respawn:/usr/sbin/dropbear -F ::respawn:/sbin/rr_login -d /dev/ttyS0 -b 115200 -p vt100 $ /usr/bin/rr_try_mount Read Conf Dir:/tmp, blk_device:tmpfs, Type:tmpfs, opt:size=30m ignore Dir:/tmp, blk_device:tmpfs, because not '/dev/mmcblk0p*' Read Conf Dir:/run/shm, blk_device:tmpfs, Type:tmpfs, opt:size=100m ignore Dir:/run/shm, blk_device:tmpfs, because not '/dev/mmcblk0p*' Read Conf Dir:/mnt/data/, blk_device:/dev/mmcblk0p1, Type:ext4, opt:defaults Check /mnt/data/ Check /dev/mmcblk0p1 Info:/dev/mmcblk0p1 File type block device.</description></item><item><title>Accessing the shell on v02.29.02</title><link>/posts/v02.29.02/accessing-the-shell/</link><pubDate>Mon, 11 Jul 2022 13:54:25 +0000</pubDate><guid>/posts/v02.29.02/accessing-the-shell/</guid><description>The old firmware stores the root password in the vinda file (mmcblk0p6), however newer firmware versions (supposedly after June 2020) don&amp;rsquo;t seem to respect the contents of the file; with the existing password no longer working
TL;DR - Get access to serial shell # Hold 's' during power on to enter UBoot's shell setenv setargs_mmc ${setargs_mmc} init=/bin/bash boot # When you access the /bin/bash shell, enter in: echo 'V' &amp;gt; /dev/watchdog # Edit the /etc/inittab file # Prepend a # to ::respawn:/sbin/rr_login -d /dev/ttyS0 -b 115200 -p vt100 # Append ttyS0::respawn:/bin/login # Reboot # Login with root and previous password Initial Shell Access with Normal System Functional Firstly, get access to the UBoot shell (spam the s key during power on)</description></item><item><title>Boot log</title><link>/posts/logviews/boot-log-v02.29.02/</link><pubDate>Mon, 11 Jul 2022 13:54:06 +0000</pubDate><guid>/posts/logviews/boot-log-v02.29.02/</guid><description>-boot0 version : 4.0.0 fel_flag = 0x00000000 rtc[0] value = 0x00000000 rtc[1] value = 0x00000000 rtc[2] value = 0x00000000 rtc[3] value = 0x00000000 DRAM DRIVE INFO: V1.7 DRAM Type =3 (2:DDR2,3:DDR3,6:LPDDR2,7:LPDDR3) DRAM zq value: 00003bbbDRAM CLK =552 MHZ ID CHECK VERSION: V0.</description></item></channel></rss>