<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on CSE Thesis Musings</title><link>/posts/</link><description>Recent content in Posts on CSE Thesis Musings</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>&amp;copy; 2021 &lt;a href="https://featherbear.cc">Andrew Wong (z5206677)&lt;/a></copyright><lastBuildDate>Mon, 11 Jul 2022 15:34:35 +0000</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>Upgrade - Upgrade Persistence</title><link>/posts/upgrade-upgrade-persistence/</link><pubDate>Mon, 11 Jul 2022 15:34:35 +0000</pubDate><guid>/posts/upgrade-upgrade-persistence/</guid><description>These directories/files persisted in the upgrade
/mnt/reserve/z5206677.was.here.update /mnt/reserve/rriot/z5206677.was.here.update /mnt/reserve/lost+found/z5206677.was.here.update /mnt/data/z5206677.was.here.update /mnt/data/rriot/tuya_db/z5206677.was.here.update /mnt/data/rriot/z5206677.was.here.update /mnt/data/rockrobo/z5206677.was.here.update /mnt/data/rockrobo/rrlog/z5206677.was.here.update /mnt/data/rockrobo/rrlog/**/z5206677.was.here.update /mnt/data/rockrobo/noupload/z5206677.was.here.update /mnt/data/rockrobo/map/z5206677.was.here.update /mnt/data/rockrobo/devtest/z5206677.was.here.update /mnt/data/rockrobo/devtest/**/z5206677.was.here.update /mnt/data/wlan/z5206677.was.here.update /mnt/data/miio/z5206677.was.here.update /mnt/data/lost+found/z5206677.was.here.update</description></item><item><title>/sbin/rr_login</title><link>/posts/sbin-rr_login/</link><pubDate>Mon, 11 Jul 2022 14:28:22 +0000</pubDate><guid>/posts/sbin-rr_login/</guid><description>Tries to access /mnt/default/shadow and /mnt/default/shadow.sign both which do not exist.
Probably because old version?
Since those files don&amp;rsquo;t exist on my device&amp;hellip; I&amp;rsquo;ll never get UART access</description></item><item><title>Upgraded - Versioning and Fingerprinting</title><link>/posts/upgraded-versioning-and-fingerprinting/</link><pubDate>Mon, 11 Jul 2022 14:05:05 +0000</pubDate><guid>/posts/upgraded-versioning-and-fingerprinting/</guid><description>bash-4.3# cat rr-info A.01.0014-V2902 bash-4.3# cat OS_VERSION ro.product.device=TANOS_V2902-2022042802REL_M3.5.8_T4.1.4-2_RELEASE_20220428-202811 ro.build.display.id=TANOS_MP_R16_RELEASE_20220428-202811 ro.sys.cputype=R16.STM32.A3.G1 ro.build.version.release=V2902 ro.build.date.utc=1651148891 uname -a Linux rockrobo 3.4.39 #1 SMP PREEMPT Thu Apr 28 20:27:25 CST 2022 armv7l GNU/Linux ::sysinit:/etc/init/rcS S start ::shutdown:/etc/init/rcS K stop ::respawn:WatchDoge $RR_ROOT/watchdog &amp;gt;&amp;gt; $RR_UDATA/rockrobo/rrlog/watchdog.log 2&amp;gt;&amp;amp;1 ::respawn:/usr/bin/adbd ::respawn:/usr/sbin/dropbear -F ::respawn:/sbin/rr_login -d /dev/ttyS0 -b 115200 -p vt100 $ /usr/bin/rr_try_mount Read Conf Dir:/tmp, blk_device:tmpfs, Type:tmpfs, opt:size=30m ignore Dir:/tmp, blk_device:tmpfs, because not '/dev/mmcblk0p*' Read Conf Dir:/run/shm, blk_device:tmpfs, Type:tmpfs, opt:size=100m ignore Dir:/run/shm, blk_device:tmpfs, because not '/dev/mmcblk0p*' Read Conf Dir:/mnt/data/, blk_device:/dev/mmcblk0p1, Type:ext4, opt:defaults Check /mnt/data/ Check /dev/mmcblk0p1 Info:/dev/mmcblk0p1 File type block device.</description></item><item><title>Upgraded - Accessing the shell</title><link>/posts/upgraded-accessing-the-shell/</link><pubDate>Mon, 11 Jul 2022 13:54:25 +0000</pubDate><guid>/posts/upgraded-accessing-the-shell/</guid><description>The old firmware stores the root password in the vinda file (mmcblk0p6), however newer firmware versions (supposedly after June 2020) don&amp;rsquo;t seem to respect the contents of the file; with the existing password no longer working
Initial Shell Access Firstly, get access to the UBoot shell (spam the s key during power on)</description></item><item><title>Upgraded - Boot Log</title><link>/posts/upgraded-boot-log/</link><pubDate>Mon, 11 Jul 2022 13:54:06 +0000</pubDate><guid>/posts/upgraded-boot-log/</guid><description>-boot0 version : 4.0.0 fel_flag = 0x00000000 rtc[0] value = 0x00000000 rtc[1] value = 0x00000000 rtc[2] value = 0x00000000 rtc[3] value = 0x00000000 DRAM DRIVE INFO: V1.7 DRAM Type =3 (2:DDR2,3:DDR3,6:LPDDR2,7:LPDDR3) DRAM zq value: 00003bbbDRAM CLK =552 MHZ ID CHECK VERSION: V0.</description></item><item><title>Upgrade Notes</title><link>/posts/upgrade-notes/</link><pubDate>Mon, 11 Jul 2022 13:44:33 +0000</pubDate><guid>/posts/upgrade-notes/</guid><description>Firmware is upgraded incrementally rather than straight to the latest version Probably because of dependencies, etc Process Download to blk10 Flash blk10 to blk9 Boot into blk9 (new) Flash blk10 to blk8 Changes The original firmware that was on the device was 01.</description></item><item><title>Bootring</title><link>/posts/bootring/</link><pubDate>Tue, 05 Jul 2022 13:52:57 +0000</pubDate><guid>/posts/bootring/</guid><description>{{ youtube Wm3_V0DovIY }}</description></item><item><title>Boot Persistence</title><link>/posts/boot-persistence/</link><pubDate>Tue, 05 Jul 2022 12:50:48 +0000</pubDate><guid>/posts/boot-persistence/</guid><description>Edit the /opt/rockrobo/watchdog/rrwatchdog.conf and/or the /opt/rockrobo/ProcessList.conf file</description></item><item><title>05/07/2022 Further Points of Contact</title><link>/posts/05-07-2022-further-points-of-contact/</link><pubDate>Tue, 05 Jul 2022 12:33:12 +0000</pubDate><guid>/posts/05-07-2022-further-points-of-contact/</guid><description> mbedtls_pk_encrypt /opt/rockrobo/rrlog/devtest.conf RRLDR /dev/shm/endpoint.bin libroboipc.so /opt/rockrobo/rrlog/devtest.conf bootring rriot_tuya logging</description></item><item><title>devtest.conf</title><link>/posts/devtest.conf/</link><pubDate>Tue, 05 Jul 2022 12:29:33 +0000</pubDate><guid>/posts/devtest.conf/</guid><description>Found some file existence check for /opt/rockrobo/rrlog/devtest.conf inside of the rrlogd program. Did a touch&amp;hellip; we should hopefully expect to see some extra files?</description></item><item><title>rrlogd</title><link>/posts/rrlogd/</link><pubDate>Tue, 05 Jul 2022 09:31:13 +0000</pubDate><guid>/posts/rrlogd/</guid><description>Responsible for compressing, (encrypting and) upload log files
Possibly works with logrotate.sh (system logs) Libraries Protobuf curl mbedtls (Polar SSL) Note Compression is given low priority: nice -n 19 tar zcf ...
Nicenesses range from -20 (most favorable scheduling) to 19 (least favorable).</description></item><item><title>/mnt/data/rockrobo/rrlog/miio.log</title><link>/posts/mnt-data-rockrobo-rrlog-miio.log/</link><pubDate>Tue, 05 Jul 2022 09:26:34 +0000</pubDate><guid>/posts/mnt-data-rockrobo-rrlog-miio.log/</guid><description>xx.ot.io.mi.com:8053 xx.ott.io.mi.com:80 Both give a HTTP 400 Bad Request [20220705 07:32:33] [W] cmd_internal_request_dinfo:1712, ot_agent_internalfd: -1 [20220705 07:32:33] [W] No helper script? {&amp;quot;method&amp;quot;:&amp;quot;_internal.helper_ready&amp;quot;} [20220705 07:32:33] [I] OT agent listen accept sockfd: 18 [20220705 07:32:33] [I] add_client_fd sockfd: 18 [20220705 07:32:33] [I] OT agent listen accept sockfd: 18 [20220705 07:32:33] [I] add_client_fd sockfd: 18 [20220705 07:32:33] [I] handle_internal_hello, fd: 18, STATE: (0) [20220705 07:32:33] [W] OT agent internalfd closed: 18 Got _internal.</description></item><item><title>/opt/rockrobo/rriot/rriot_tuya</title><link>/posts/opt-rockrobo-rriot-rriot_tuya/</link><pubDate>Tue, 05 Jul 2022 08:23:32 +0000</pubDate><guid>/posts/opt-rockrobo-rriot-rriot_tuya/</guid><description>Library Imports curl network mbedtls (PolarSSL) Strings /mnt/data/rriot/tuya_db /mnt/default/roborock/device.json tuya_iot_impl_upload_file https://%siot.roborock.com/fwapi/tuyakey rr_write_callback Notes Handles output Program is spawned by WatchDoge Program doesn&amp;rsquo;t have any stdout log destinations, so we can edit /opt/rockrobo/watchdog/ProcessList.conf Modify: rriot_tuya,setsid rriot_tuya &amp;gt;&amp;gt; /mnt/data/z5206677/rriot_tuya.</description></item><item><title>libc</title><link>/posts/libc/</link><pubDate>Tue, 05 Jul 2022 07:53:29 +0000</pubDate><guid>/posts/libc/</guid><description>$&amp;gt; ldd --version ldd ldd (Ubuntu EGLIBC 2.19-0ubuntu6.6) 2.19 Copyright (C) 2014 Free Software Foundation, Inc. This is free software; see the source for copying conditions. There is NO warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. Written by Roland McGrath and Ulrich Drepper.</description></item><item><title>Pre-Encryption and Post-Decryption Hooks</title><link>/posts/pre-encryption-and-post-decryption-hooks/</link><pubDate>Mon, 04 Jul 2022 15:31:25 +0000</pubDate><guid>/posts/pre-encryption-and-post-decryption-hooks/</guid><description>Capturing and reading encrypted outbound network packets in transit is somewhat difficult, especially when there are asymmetric keys at work. Instead though&amp;hellip; we could hook into the encryption routine, and dump the message somewhere to read later.
When it comes to decryption, we can just wait for the decryption to finish, and then dump the decrypted message somewhere as well!</description></item><item><title>Files in device that are missing from base</title><link>/posts/files-in-device-that-are-missing-from-base/</link><pubDate>Tue, 28 Jun 2022 17:07:59 +0000</pubDate><guid>/posts/files-in-device-that-are-missing-from-base/</guid><description>Of Interest /usr/bin/adbd 110b25922d0cf121deeb5b72342b93c8 /usr/bin/bootring bf8f440f6fe7e1cbbdaafa491442a4a9 /usr/bin/logrotate.sh 8129d3de3d967e2887447409ee84fb16 /usr/bin/peekfd 8d2f2dbb777b852b59b5b53038925b5c /usr/bin/qemu-arm-static 4a183d05ce4c2ade1732e4ab937acb1f /usr/bin/rr_try_mount aef34ac426e24ecfa7090104660289bf /usr/bin/rsync 512ba4abb7b0202f6574864a3cd24617 /usr/bin/scp 354d5bef5c9f5d02f316d6840351a0cd /usr/sbin/nfnl_osf 0f8c4e6983614b80a1299a0fd220047e /usr/sbin/tcpdump 50f2ed1f9707873bbd13bde776c9cff7 /usr/sbin/safe_finger 7d659ca42ea347335454480da9f070d2 Low Initial Interest /bin/fuser 73b744ea98518b3b238e7a17d9356a50 /sbin/crda c6ccce7de9420eda06cf411bb31eeca1 /sbin/dhcpcd-bin 36f27f551c9b0710459c5b7261cb053a /sbin/dhcpcd3 2d6a61a6873a6bd2a2475f66a0564d06 /sbin/fatlabel 4c795c3f37c9b895afcd3cb862e85346 /sbin/fsck.fat 725bc854ed410d2bf5a0c43b07bc4651 /sbin/iptables-apply bfa7ecc3aac4cb208f32c19e6503a082 /sbin/iw 9b625d8eee80b5dd49843e86f0cbe51d /sbin/mkfs.</description></item><item><title>Diff Inspection</title><link>/posts/diff-inspection/</link><pubDate>Tue, 28 Jun 2022 16:28:46 +0000</pubDate><guid>/posts/diff-inspection/</guid><description>/usr/sbin/ntpdate ntpdate is a program for retrieving the date and time from NTP servers
device md5: 006a0967281c9a061362086b638a21a4
28 Jun 16:28:29 ntpdate[7790]: ntpdate 4.2.6p5@1.2349 Tue Jun 21 08:19:00 UTC 2016 (6) 28 Jun 16:28:29 ntpdate[7790]: no servers can be used, exiting base md5: 122890cbbaff8ca98f9664add64492bd</description></item><item><title>/opt/roborock MD5 hashes</title><link>/posts/opt-roborock-md5-hashes/</link><pubDate>Tue, 28 Jun 2022 15:57:42 +0000</pubDate><guid>/posts/opt-roborock-md5-hashes/</guid><description>ff86b18c2146aca1891a92752d71f459 /opt/rockrobo/buildnumber 4a1c6635b3f118719f687119eea07145 /opt/rockrobo/cleaner/bin/AppProxy 974b868b9f7be61d002d98b26e05e442 /opt/rockrobo/cleaner/bin/RoboController 57b1f105fc153b6bd3bfd83c0d2b46be /opt/rockrobo/cleaner/bin/RoboControllerM 4d3af16176e77d064d04e3739a7bfa78 /opt/rockrobo/cleaner/bin/RoboControllerR 40bd65103561a7a71aa3980559cc13a4 /opt/rockrobo/cleaner/bin/rr_loader 3b8d8cd75e99a9329cccfce0a7c679d2 /opt/rockrobo/cleaner/bin/SysUpdate ed89ec1dd7ee1a20dfa69ee5d3c3f320 /opt/rockrobo/cleaner/conf/chargerIntensity.cfg 7089bb6222477fbcadd685c7f5e1e7ce /opt/rockrobo/cleaner/conf/roomseg.mdl.4 319839bb24fc5682047804933dbf59e8 /opt/rockrobo/cleaner/conf/slam_info.cfg 2b2c492ac063a41dc13daeba24d582f7 /opt/rockrobo/cleaner/lib/libblcommon.so 360e6b33a90e8b0e84691baf54c01346 /opt/rockrobo/cleaner/lib/libcares.so.2.1.0 fbc82bc07247f43a68613574ea4f5bae /opt/rockrobo/cleaner/lib/libconfig++.so.9.1.3 4340dea7857119259a4899571c48c5a6 /opt/rockrobo/cleaner/lib/libconfig.so.9.1.3 e7e7a0ec1698553056666cb9bfc55790 /opt/rockrobo/cleaner/lib/libgflags.so.2.2.1 ae5b646ff1cba09dbee32ecd2c5625ca /opt/rockrobo/cleaner/lib/libgflags_nothreads.so.2.2.1 9e3bb466ffab7197c3d3f09d2cf4f54c /opt/rockrobo/cleaner/lib/libglog.so.0.3.5 7c5e61d60a60a15ac6c907035eea39ed /opt/rockrobo/cleaner/lib/libopencv_core.so.3.4.2 84d763e00a39b73614b239f00cef5dd8 /opt/rockrobo/cleaner/lib/libopencv_dnn.so.3.4.2 c869b2c677f1440c59b43d9be4848172 /opt/rockrobo/cleaner/lib/libopencv_features2d.so.3.4.2 45f65f043a8937289d87e12a94e65d0c /opt/rockrobo/cleaner/lib/libopencv_highgui.</description></item><item><title>File System Comparison</title><link>/posts/file-system-comparison/</link><pubDate>Tue, 28 Jun 2022 15:31:44 +0000</pubDate><guid>/posts/file-system-comparison/</guid><description>The device is an armhf Ubuntu 14.04.3 LTS, so we are comparing the hashes of the binaries against the stock binaries to see if there are any modifications
find . -type f -executable -exec md5sum {} \;
find {./bin,./sbin,./usr/bin,./usr/sbin,./opt} -executable -type f -exec md5sum {} \;</description></item><item><title>Unit Reassembly with Breakout Cables</title><link>/posts/unit-reassembly-with-breakout-cables/</link><pubDate>Sat, 25 Jun 2022 06:31:34 +0000</pubDate><guid>/posts/unit-reassembly-with-breakout-cables/</guid><description>Not gonna lie, I don&amp;rsquo;t know which screws went where anymore&amp;hellip;
Also attached a UART extension cable, and soldered a power extension cable</description></item><item><title>Power Notes</title><link>/posts/power-notes/</link><pubDate>Fri, 24 Jun 2022 15:25:56 +0000</pubDate><guid>/posts/power-notes/</guid><description>So after reassembling the unit and powering it via external wires.. the unit keeps trying to rotate itself, and continually yells out &amp;ldquo;Charging&amp;rdquo;; also the voltage fluctuates between 17-19V (it should be charging at around 19.5V)
The pads on the bottom of the unit connect to the circuit board with some wires - one seems to have a [ferrite] core; or inductor of sorts - whereas my external wires don&amp;rsquo;t have that (perhaps I should add one)</description></item><item><title>Activity Traces</title><link>/posts/activity-traces/</link><pubDate>Thu, 23 Jun 2022 16:54:54 +0000</pubDate><guid>/posts/activity-traces/</guid><description>miio_client -&amp;gt; 110.43.0.85:80 rriot_tuya -&amp;gt; 3.122.217.21:8883 (TLS) Ignore 50.7.252.138 -&amp;gt; ZeroTier (udp/9993) rriot_tuya See here
TODO: Get ALL ips from Wireshark
Then figure out where they came from, and what they contain</description></item><item><title>Which Process, Which Port, Which Connection</title><link>/posts/which-process-which-port-which-connection/</link><pubDate>Thu, 23 Jun 2022 16:35:54 +0000</pubDate><guid>/posts/which-process-which-port-which-connection/</guid><description>String search in the binary netstat lsof netstat root@rockrobo:/tmp# netstat -anp Active Internet connections (servers and established) Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 127.0.0.1:54322 0.0.0.0:* LISTEN 991/miio_client tcp 0 0 127.</description></item><item><title>IPv6 Check</title><link>/posts/ipv6-check/</link><pubDate>Thu, 23 Jun 2022 16:27:00 +0000</pubDate><guid>/posts/ipv6-check/</guid><description>Setup Device: Orange Pi R1 Plus
OS: OpenWRT
Leasing: DHCPv6
Results Roborock only has a link-local IPv6 address (i.e. fe80::...)
No IPv6 address = cannot SSH via IPv6</description></item><item><title>Assessment Scope Diagram</title><link>/posts/assessment-scope-diagram/</link><pubDate>Thu, 02 Jun 2022 07:07:47 +0000</pubDate><guid>/posts/assessment-scope-diagram/</guid><description>Nearby Devices Bluetooth Devices Will check for interaction with Bluetooth devices (if any)
Connected WiFi Network During Initialisation Activity during pairing
During Operation Activity during general power-on and running operation
Connected Wired Network Connectivity and activity assessment from/to a wired device on a network.</description></item><item><title>Thesis C Report - Structure notes</title><link>/posts/thesis-c-report-structure-notes/</link><pubDate>Mon, 30 May 2022 08:05:08 +0000</pubDate><guid>/posts/thesis-c-report-structure-notes/</guid><description>Assessable Components There are four assessment components:
1. Background, project description &amp;amp; significance, and literature survey (20%)
2. Execution of the project, quality of analysis and discussion of results (50%)
3. Conclusions and value added (20%)
4. Document Presentation (10%)</description></item><item><title>Initialisation / Pairing Process</title><link>/posts/initialisation-pairing-process/</link><pubDate>Mon, 30 May 2022 07:33:58 +0000</pubDate><guid>/posts/initialisation-pairing-process/</guid><description>Beyond the scope for this thesis, but interesting to see nonetheless
During pairing (smartphone application to the device), the application will broadcast some UDP packets to port 55559, which the robot listens to and stores.
Could be improved by means of some sort of asymmetric encryption challenge.</description></item><item><title>netstat</title><link>/posts/netstat/</link><pubDate>Sun, 01 May 2022 16:11:11 +0000</pubDate><guid>/posts/netstat/</guid><description>On idle
root@rockrobo:~# netstat -nltp Active Internet connections (only servers) Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 127.0.0.1:54322 0.0.0.0:* LISTEN 991/miio_client tcp 0 0 127.0.0.1:54323 0.0.0.0:* LISTEN 991/miio_client tcp 0 0 0.0.0.0:22 0.0.0.0:* LISTEN 1644/sshd tcp 0 0 127.</description></item><item><title>/etc/shadow</title><link>/posts/etc-shadow/</link><pubDate>Sun, 01 May 2022 09:53:25 +0000</pubDate><guid>/posts/etc-shadow/</guid><description>root@rockrobo:/var/log# cat /etc/shadow root:$6$mptOwWOW$DpR0O/CdKUfpapA3rEGl/4m6WZOkRYC5LSaCJSYKj9iHuZp2PUzfolgrGVeHW5tMtRSYlBWSlonusy67027JF/::0:99999:7::: daemon:*:16652:0:99999:7::: bin:*:16652:0:99999:7::: sys:*:16652:0:99999:7::: sync:*:16652:0:99999:7::: games:*:16652:0:99999:7::: man:*:16652:0:99999:7::: lp:*:16652:0:99999:7::: mail:*:16652:0:99999:7::: news:*:16652:0:99999:7::: uucp:*:16652:0:99999:7::: proxy:*:16652:0:99999:7::: www-data:*:16652:0:99999:7::: backup:*:16652:0:99999:7::: list:*:16652:0:99999:7::: irc:*:16652:0:99999:7::: gnats:*:16652:0:99999:7::: nobody:*:16652:0:99999:7::: libuuid:!:16652:0:99999:7::: syslog:*:16652:0:99999:7::: sshd:*:16799:0:99999:7::: dnsmasq:*:16799:0:99999:7:::</description></item><item><title>/etc/passwd</title><link>/posts/etc-passwd/</link><pubDate>Sun, 01 May 2022 09:53:06 +0000</pubDate><guid>/posts/etc-passwd/</guid><description>root@rockrobo:/var/log# cat /etc/passwd root❌0:0:root:/root:/bin/bash daemon❌1:1:daemon:/usr/sbin:/usr/sbin/nologin bin❌2:2:bin:/bin:/usr/sbin/nologin sys❌3:3:sys:/dev:/usr/sbin/nologin sync❌4:65534:sync:/bin:/bin/sync games❌5:60:games:/usr/games:/usr/sbin/nologin man❌6:12:man:/var/cache/man:/usr/sbin/nologin lp❌7:7:lp:/var/spool/lpd:/usr/sbin/nologin mail❌8:8:mail:/var/mail:/usr/sbin/nologin news❌9:9:news:/var/spool/news:/usr/sbin/nologin uucp❌10:10:uucp:/var/spool/uucp:/usr/sbin/nologin proxy❌13:13:proxy:/bin:/usr/sbin/nologin www-data❌33:33:www-data:/var/www:/usr/sbin/nologin backup❌34:34:backup:/var/backups:/usr/sbin/nologin list❌38:38:Mailing List Manager:/var/list:/usr/sbin/nologin irc❌39:39:ircd:/var/run/ircd:/usr/sbin/nologin gnats❌41:41:Gnats Bug-Reporting System (admin):/var/lib/gnats:/usr/sbin/nologin nobody❌65534:65534:nobody:/nonexistent:/usr/sbin/nologin libuuid❌100:101::/var/lib/libuuid: syslog❌101:104::/home/syslog:/bin/false sshd❌102:65534::/var/run/sshd:/usr/sbin/nologin dnsmasq❌103:65534:dnsmasq,,,:/var/lib/misc:/bin/false There&amp;rsquo;s a /etc/passwd~ file which contains a user ruby</description></item><item><title>mmcblk0p7/var/log/apt/history.log</title><link>/posts/mmcblk0p7-var-log-apt-history.log/</link><pubDate>Sun, 01 May 2022 09:50:04 +0000</pubDate><guid>/posts/mmcblk0p7-var-log-apt-history.log/</guid><description>Start-Date: 2016-01-25 11:18:05 Commandline: /usr/bin/apt-get install rsync Install: rsync:armhf (3.1.0-2ubuntu0.2) End-Date: 2016-01-25 11:18:11 Start-Date: 2016-04-05 12:30:59 Commandline: /usr/bin/apt-get install ccrypt Install: ccrypt:armhf (1.10-4) End-Date: 2016-04-05 12:31:01 Start-Date: 2016-04-25 09:58:29 Commandline: /usr/bin/apt-get install tcpdump Install: tcpdump:armhf (4.5.1-2ubuntu1.2), libpcap0.8:armhf (1.5.3-2, automatic) End-Date: 2016-04-25 09:58:33</description></item><item><title>htop during factory</title><link>/posts/htop-during-factory/</link><pubDate>Sun, 01 May 2022 09:32:39 +0000</pubDate><guid>/posts/htop-during-factory/</guid><description>1 root 20 0 3680 2232 1108 S 0.0 0.4 0:05.27 /sbin/init 228 root 20 0 2092 536 380 S 0.0 0.1 0:00.50 upstart-udev-bridge --daemon 233 root 20 0 9104 1264 776 S 0.0 0.2 0:00.24 /lib/systemd/systemd-udevd --daemon 418 root 20 0 27400 244 204 S 0.</description></item><item><title>Filesystem Overview</title><link>/posts/filesystem/fs-overview/</link><pubDate>Sun, 01 May 2022 04:31:56 +1000</pubDate><guid>/posts/filesystem/fs-overview/</guid><description>eMMC fdisk -l lsblk UDISK - mmcblk0p1 - /mnt/data boot-res - mmcblk0p2 env - mmcblk0p5 app - mmcblk0p6 @ /mnt/default (RO) recovery - mmcblk0p7 system_a - mmcblk0p8 system_b - mmcblk0p9 Download - mmcblk0p10 @ /mnt/updbuf reserve - mmcblk0p11 @ /mnt/reserve Also see https://github.</description></item><item><title>Recovery Mode</title><link>/posts/recovery-mode/</link><pubDate>Sat, 30 Apr 2022 18:05:20 +0000</pubDate><guid>/posts/recovery-mode/</guid><description>I disconnected the power (w/o battery) a bunch of times and it eventually needed to enter recovery (probably corrupted something)
flag_recovery: 0x0 - Normal Launch Recovery Loading file &amp;quot;roborock.conf&amp;quot; from mmc device 2:6 32 bytes read language:language=en flag_recovery: 0x0 flag_command: flag_restore_default: flag_bootB:0x4 flag_bootA:0x2 upgrade stage:0x63 No upgradeover system found, check if has normal system, pmu: 0x73776368 flag a=2,flag b=4,will be recover system play opt/rockrobo/resources/sounds/en/bl_recovery_bootfailed.</description></item><item><title>Post-login Actions</title><link>/posts/post-login-actions/</link><pubDate>Sat, 30 Apr 2022 17:22:04 +0000</pubDate><guid>/posts/post-login-actions/</guid><description>mkdir -p ~/z5206677 # The system doesn't have curl, wget, htop # Turn off iptables Gaining SSH Access Enter commands via serial (baud 115200)
Remove drop port 22 rule iptables -D INPUT -p tcp -m tcp --dport 22 -j DROP Set up SSH access via public key ssh-keygen ssh-copy-id root@192.</description></item><item><title>Power Analysis</title><link>/posts/power/power-analysis/</link><pubDate>Sat, 30 Apr 2022 16:08:29 +0000</pubDate><guid>/posts/power/power-analysis/</guid><description>Charger pinouts Charger output - 4.27V (open circuit)
At 3.7kΩ load, charger outputs ~20.4V
Device connected to charger without battery - turns off after a bit
haveged: haveged Stopping due to signal 15
signal 15 -&amp;gt; SIGTERM
20.4V, peak 140mA</description></item><item><title>mmcblk0p7/usr/bin/adbd</title><link>/posts/execs/mmcblk0p7-usr-bin-adbd/</link><pubDate>Wed, 06 Apr 2022 16:01:14 +0000</pubDate><guid>/posts/execs/mmcblk0p7-usr-bin-adbd/</guid><description>locksec_init_key: can not find the prefix str from adb conf file, use default locksec_init_key: can not find the suffix str from adb conf file, use default locksec_init_serial: adb read 465 bytes from /proc/cpuinfo locksec_init_key: locksec_init_key, rockrobo%()+-[]_8a80ab8936d76c118000:;&amp;lt;=&amp;gt;?@{}rubydevicemodel locksec_apply_key: locksec_apply_key, erI09cyW%()+-[]_8a80ab8936d76c118000:;&amp;lt;=&amp;gt;?@{}CzD2xuMNlwabTK7 locksec_apply_passwd: adb source str: erI09cyW%()+-[]_8a80ab8936d76c118000:;&amp;lt;=&amp;gt;?</description></item><item><title>Main View Checks</title><link>/posts/main-view-checks/</link><pubDate>Wed, 06 Apr 2022 15:45:14 +0000</pubDate><guid>/posts/main-view-checks/</guid><description> miio rockrobo rrlog ADB rriot</description></item><item><title>Device Actions</title><link>/posts/device-actions/</link><pubDate>Wed, 06 Apr 2022 08:51:59 +0000</pubDate><guid>/posts/device-actions/</guid><description>Make ~/z5206677 directory Install wget, curl, htop Install ZeroTier Client ID: c5a9b2380f Network ID: abfd31bd47e18e42 IP: 10.147.20.24 ZT install.zerotier.com&amp;rsquo;s certificate issued by &amp;lsquo;/C=GB/ST=Greater Manchester/L=Salford/O=Sectigo Limited/CN=Sectigo RSA Domain Validation Secure Server CA&amp;rsquo;
Device doesn&amp;rsquo;t have cert</description></item><item><title>proc dump</title><link>/posts/system/proc-dump/</link><pubDate>Wed, 06 Apr 2022 08:46:06 +0000</pubDate><guid>/posts/system/proc-dump/</guid><description>root@rockrobo:/proc# cat cmdline rootwait boot_fs=a console=ttyS0,115200 root=/dev/mmcblk0p8 rootfstype=ext4 loglevel=7 partitions=boot-res@mmcblk0p2:env@mmcblk0p5:app@mmcblk0p6:recovery@mmcblk0p7:system_a@mmcblk0p8:system_b@mmcblk0p9:Download@mmcblk0p10:reserve@mmcblk0p11:UDISK@mmcblk0p1 boot_reason=0x0 location=en boot_ver=2011.09-rc1-dirty root@rockrobo:/proc# cat cpuinfo Processor : ARMv7 Processor rev 5 (v7l) processor : 0 BogoMIPS : 3085.71 processor : 1 BogoMIPS : 3085.71 processor : 2 BogoMIPS : 3085.</description></item><item><title>lsblk dump</title><link>/posts/filesystem/20220406-lsblk-dump/</link><pubDate>Wed, 06 Apr 2022 08:37:51 +0000</pubDate><guid>/posts/filesystem/20220406-lsblk-dump/</guid><description>root@rockrobo:~# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT mmcblk0boot0 179:16 0 2M 1 disk mmcblk0boot1 179:32 0 2M 1 disk mmcblk0 179:0 0 3.7G 0 disk |-mmcblk0p1 179:1 0 1.5G 0 part /mnt/data |-mmcblk0p2 179:2 0 8M 0 part |-mmcblk0p3 179:3 0 1K 0 part |-mmcblk0p5 179:5 0 16M 0 part |-mmcblk0p6 179:6 0 64M 0 part /mnt/default |-mmcblk0p7 179:7 0 512M 0 part |-mmcblk0p8 179:8 0 512M 0 part / |-mmcblk0p9 179:9 0 512M 0 part |-mmcblk0p10 179:10 0 528M 0 part /mnt/updbuf `-mmcblk0p11 179:11 0 16M 0 part /mnt/reserve</description></item><item><title>WiFi Hardware</title><link>/posts/system/wifi-hardware/</link><pubDate>Wed, 06 Apr 2022 08:30:11 +0000</pubDate><guid>/posts/system/wifi-hardware/</guid><description>MAC - 64:90:c1:1d:24:c4 MAC2 - 66:90:c1:1d:24:c4 root@rockrobo:~# ip -4 link 1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 16436 qdisc noqueue state UNKNOWN mode DEFAULT group default link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 2: wlan0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qdisc mq state UP mode DORMANT group default qlen 1000 link/ether 64:90:c1:1d:24:c4 brd ff:ff:ff:ff:ff:ff 3: wlan1: &amp;lt;BROADCAST,MULTICAST&amp;gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether 66:90:c1:1d:24:c4 brd ff:ff:ff:ff:ff:ff root@rockrobo:~# ip -6 addr 1: lo: &amp;lt;LOOPBACK,UP,LOWER_UP&amp;gt; mtu 16436 inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: wlan0: &amp;lt;BROADCAST,MULTICAST,UP,LOWER_UP&amp;gt; mtu 1500 qlen 1000 inet6 fe80::6690:c1ff:fe1d:24c4/64 scope link valid_lft forever preferred_lft forever lo Link encap:Local Loopback inet addr:127.</description></item><item><title>Serial Dump During 4-wire Power</title><link>/posts/power/serial-dump-during-4-wire-power/</link><pubDate>Wed, 06 Apr 2022 08:15:34 +0000</pubDate><guid>/posts/power/serial-dump-during-4-wire-power/</guid><description>-boot0 version : 4.0.0 fel_flag = 0x00000000 rtc[0] value = 0x00000000 rtc[1] value = 0x00000000 rtc[2] value = 0x00000000 rtc[3] value = 0x00000000 DRAM DRIVE INFO: V1.7 DRAM Type =3 (2:DDR2,3:DDR3,6:LPDDR2,7:LPDDR3) DRAM zq value: 00003bbbDRAM CLK =552 MHZ ID CHECK VERSION: V0.</description></item><item><title>Serial Dump During 2-wire Power</title><link>/posts/power/serial-dump-during-2-wire-power/</link><pubDate>Wed, 06 Apr 2022 08:10:52 +0000</pubDate><guid>/posts/power/serial-dump-during-2-wire-power/</guid><description>Only attached +ve and -ve rails
)*boot0 version : 4.0.0 fel_flag = 0x00000000 rtc[0] value = 0x00000000 rtc[1] value = 0x00000000 rtc[2] value = 0x00000000 rtc[3] value = 0x00000000 DRAM DRIVE INFO: V1.7 DRAM Type =3 (2:DDR2,3:DDR3,6:LPDDR2,7:LPDDR3) DRAM zq value: 00003bbbDRAM CLK =552 MHZ ID CHECK VERSION: V0.</description></item><item><title>Research Notes</title><link>/posts/20220406-research-notes/</link><pubDate>Wed, 06 Apr 2022 07:32:28 +0000</pubDate><guid>/posts/20220406-research-notes/</guid><description>Xiaomi / Roborock&amp;rsquo;s Claims
Previous incidents Statements IoT Concerns Hardware Hacking
Any difference in boot sequence if only +ve and -ve battery terminals connected No change in output during boot But device will turn off after around 20 seconds Fingerprints root@rockrobo:~# uname -m armv7l root@rockrobo:~# uname -a Linux rockrobo 3.</description></item><item><title>mmcblk0p7</title><link>/posts/mmcblk0p7/</link><pubDate>Fri, 18 Mar 2022 15:16:07 +0000</pubDate><guid>/posts/mmcblk0p7/</guid><description> netcat nc</description></item><item><title>Questions</title><link>/posts/20220318-questions/</link><pubDate>Fri, 18 Mar 2022 14:24:06 +0000</pubDate><guid>/posts/20220318-questions/</guid><description>Are files cleaned when factory reset? mmcblk01\rockrobo\robot.db Unknown / non-standard files mmcblk01\rockrobo\rrlog\**\*.rr.gz Look out for code/scripts that operate on these files rr.? Interesting mmcblk0p11\endpoint.bin AWS address + key? mmcblk0p6\adb.</description></item><item><title>Filesystem Exploration</title><link>/posts/filesystem/20220318-filesystem-exploration/</link><pubDate>Fri, 18 Mar 2022 14:04:37 +0000</pubDate><guid>/posts/filesystem/20220318-filesystem-exploration/</guid><description>https://featherbear.cc/UNSW-CSE-Thesis/posts/fdisk-dump/
https://featherbear.cc/UNSW-CSE-Thesis/posts/emmc-layout/
[ 0.000000] Kernel command line: rootwait boot_fs=a console=ttyS0,115200 root=/dev/mmcblk0p8 rootfstype=ext4 loglevel=7 partitions=boot-res@mmcblk0p2:env@mmcblk0p5:app@mmcblk0p6:recovery@mmcblk0p7:system_a@mmcblk0p8:system_b@mmcblk0p9:Download@mmcblk0p10:reserve@mmcblk0p11:UDISK@mmcblk0p1 boot_reason=0x0 location=en boot_ver=2011.09-rc1-dirty
boot-res@mmcblk0p2
env@mmcblk0p5
app@mmcblk0p6 (default) (read only)
recovery@mmcblk0p7
system_a@mmcblk0p8
system_b@mmcblk0p9
Download@mmcblk0p10 (updbuf)
reserve@mmcblk0p11 (reserve)
UDISK@mmcblk0p1 (data)
| &amp;mdash; | &amp;mdash; | &amp;mdash; | &amp;mdash; | &amp;mdash; | &amp;mdash; | &amp;mdash; | &amp;mdash; | | Label | Device | Boot | Start | End | Blocks | Id | System | | UDISK | /dev/mmcblk0p1 | * | 4513792 | 7782399 | 1634304 | b | W95 FAT32 | | boot-res | /dev/mmcblk0p2 | 73728 | 90111 | 8192 | 6 | FAT16 | | | /dev/mmcblk0p3 | 1 | 4423680 | 2211840 | 5 | Extended | | env | /dev/mmcblk0p5 | 90112 | 122879 | 16384 | 83 | Linux | | app | /dev/mmcblk0p6 | 122880 | 253951 | 65536 | 83 | Linux | | recovery | /dev/mmcblk0p7 | 253952 | 1302527 | 524288 | 83 | Linux | | system_a | /dev/mmcblk0p8 | 1302528 | 2351103 | 524288 | 83 | Linux | | system_b | /dev/mmcblk0p9 | 2351104 | 3399679 | 524288 | 83 | Linux | | Download | /dev/mmcblk0p10 | 3399680 | 4481023 | 540672 | 83 | Linux | | reserve | /dev/mmcblk0p11 | 4481024 | 4513791 | 16384 | 83 | Linux |</description></item><item><title>Software Versions</title><link>/posts/system/software-versions/</link><pubDate>Fri, 18 Mar 2022 14:01:19 +0000</pubDate><guid>/posts/system/software-versions/</guid><description>*-boot0 version : 4.0.0
DRAM DRIVE INFO: V1.7
ID CHECK VERSION: V0.1
[mmc]: mmc driver ver 2015-04-13 15:56:39
[mmc]: MMC ver 5.0
[mmc]: SD/MMC Card: 4bit, capacity: 3776MB
[mmc]: vendor: Man 00110100 Snr 025e3285
[mmc]: product: 004GA
[mmc]: revision: 3.0</description></item><item><title>Xiaomi - Cyber Security Baseline for Consumer Internet of Things</title><link>/posts/xiaomi-cyber-security-baseline-for-consumer-internet-of-things/</link><pubDate>Fri, 18 Mar 2022 08:28:19 +0000</pubDate><guid>/posts/xiaomi-cyber-security-baseline-for-consumer-internet-of-things/</guid><description>In late December 2021 / early January 2022, Xiaomi released a document outlining the expectations of security that their partner companies should adhere to when integrating with their ecosystem - [Read here]</description></item><item><title>Commentree</title><link>/posts/commentree/</link><pubDate>Fri, 11 Mar 2022 10:41:21 +0000</pubDate><guid>/posts/commentree/</guid><description>To help with organising my comments when reviewing the file system images, I made a little tool that opens up the text files side by side with a comment pane.
It uses the Monaco Editor, which is used inside of VS Code to handle the code editor.</description></item><item><title>02/03/2022 Progress Update</title><link>/posts/20220302-progress/</link><pubDate>Wed, 02 Mar 2022 06:18:30 +0000</pubDate><guid>/posts/20220302-progress/</guid><description>Following a quick scribble of notes I wrote four months ago how I might go about making an image of the system for offline analysis purposes, I finally found the time (and motivation) get get around working on my thesis again :')</description></item><item><title>fdisk dump</title><link>/posts/filesystem/20220302-fdisk-dump/</link><pubDate>Wed, 02 Mar 2022 06:01:48 +0000</pubDate><guid>/posts/filesystem/20220302-fdisk-dump/</guid><description>root@rockrobo:/home# fdisk -l Disk /dev/mmcblk0: 3959 MB, 3959422976 bytes 1 heads, 16 sectors/track, 483328 cylinders, total 7733248 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0x00000000 Device Boot Start End Blocks Id System /dev/mmcblk0p1 * 4513792 7782399 1634304 b W95 FAT32 /dev/mmcblk0p2 73728 90111 8192 6 FAT16 /dev/mmcblk0p3 1 4423680 2211840 5 Extended /dev/mmcblk0p5 90112 122879 16384 83 Linux /dev/mmcblk0p6 122880 253951 65536 83 Linux /dev/mmcblk0p7 253952 1302527 524288 83 Linux /dev/mmcblk0p8 1302528 2351103 524288 83 Linux /dev/mmcblk0p9 2351104 3399679 524288 83 Linux /dev/mmcblk0p10 3399680 4481023 540672 83 Linux /dev/mmcblk0p11 4481024 4513791 16384 83 Linux Partition table entries are not in disk order Disk /dev/mmcblk0boot1: 2 MB, 2097152 bytes 4 heads, 16 sectors/track, 64 cylinders, total 4096 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0x00000000 Disk /dev/mmcblk0boot1 doesn't contain a valid partition table Disk /dev/mmcblk0boot0: 2 MB, 2097152 bytes 4 heads, 16 sectors/track, 64 cylinders, total 4096 sectors Units = sectors of 1 * 512 = 512 bytes Sector size (logical/physical): 512 bytes / 512 bytes I/O size (minimum/optimal): 512 bytes / 512 bytes Disk identifier: 0x00000000 Disk /dev/mmcblk0boot0 doesn't contain a valid partition table</description></item><item><title>Linux Forensics</title><link>/posts/linux-forensics/</link><pubDate>Mon, 15 Nov 2021 11:06:25 +1100</pubDate><guid>/posts/linux-forensics/</guid><description> System imaging
https://countuponsecurity.com/2017/04/12/intro-to-linux-forensics/
https://opensource.com/article/18/4/linux-filesystem-forensics
https://tho-le.medium.com/linux-forensics-some-useful-artifacts-74497dca1ab2
https://www.sandflysecurity.com/blog/compromised-linux-cheat-sheet/
Linux Rapid Compromise Assessment - Craig H. Rowland</description></item><item><title>Literature Review</title><link>/posts/literature-review/</link><pubDate>Mon, 15 Nov 2021 10:39:22 +1100</pubDate><guid>/posts/literature-review/</guid><description>2018 - Michael Steigerwald (VTRUST) Talk: Smart home - Smart hack
Products from different manufacturers used the same cloud infrastructure (with supposed &amp;lsquo;military-grade security&amp;rsquo;), each with their own &amp;lsquo;customised&amp;rsquo; (white-label) smartphone apps Used the Espressif ESP8266 chip WiFi-enabled SoC with Arduino support Often used by tinkerers and enthusiasts Anyone can become an &amp;lsquo;IoT company&amp;rsquo; regardless of &amp;ldquo;having in-depth technical knowledge of IoT or IT security.</description></item><item><title>Seminar A Preparation</title><link>/posts/seminar-a-preparation/</link><pubDate>Mon, 01 Nov 2021 02:59:50 +0000</pubDate><guid>/posts/seminar-a-preparation/</guid><description>Criterion Make a 30-minute presentation about your Thesis A topic and the plan The talk presents an extensive, logically organised review, analysis and discussion of background material. Demonstrates clear mastery of the material in the topic area already. A clearly articulated definition of the problem and/or hypothesis (statement of purpose).</description></item><item><title>System Imaging</title><link>/posts/system-imaging/</link><pubDate>Sat, 30 Oct 2021 05:09:12 +0000</pubDate><guid>/posts/system-imaging/</guid><description>Once root is acquired, we need a way to dump the entire filesystem on the flash chip - so that we can do some (safer) offline analysis of the system. What&amp;rsquo;s the best way to do this?
dd Make an exact (byte-to-byte) copy of the disk - will also include unused space</description></item><item><title>30/10/2021 Progress Update</title><link>/posts/20211030-progress/</link><pubDate>Fri, 29 Oct 2021 16:41:37 +0000</pubDate><guid>/posts/20211030-progress/</guid><description>Removed the logic board from the robot and had a look at the pins near the Allwinner R16 processor / SoC. Read Dennis' writeup about the UART pins being located on RX:TPA15, TX:TPA8, GND:TPA16
I then soldered some wires onto the test pins (too hard to just hold it with my hands)</description></item><item><title>I am root!</title><link>/posts/i-am-root/</link><pubDate>Fri, 29 Oct 2021 16:38:37 +0000</pubDate><guid>/posts/i-am-root/</guid><description>From the bootloader, we can dump the file vinda in the ext4 partition at emmc2:6.
sunxi#ext4load ext4load - load binary file from a Ext4 filesystem Usage: ext4load &amp;lt;interface&amp;gt; &amp;lt;dev[:part]&amp;gt; [addr] [filename] [bytes] - load binary file 'filename' from 'dev' on 'interface' to address 'addr' from ext4 filesystem sunxi#ext4load mmc 2:6 0 vinda Loading file &amp;quot;vinda&amp;quot; from mmc device 2:6 16 bytes read sunxi#md 0 4 00000000: 5b415243 51454346 54505042 525f5655 CRA[FCEQBPPTUV_R The string of bytes can be XOR&amp;rsquo;d with the byte 0x37 to gain the root password.</description></item><item><title>UART / Preboot Communications</title><link>/posts/system/uart-preboot-communications/</link><pubDate>Fri, 29 Oct 2021 16:35:19 +0000</pubDate><guid>/posts/system/uart-preboot-communications/</guid><description>Gaining Access TPA16 is the GND TPA15 is the device&amp;rsquo;s RX pin - Connect this to your UART client&amp;rsquo;s TX TPA8 is the device&amp;rsquo;s TX pin - Connect this to your UART client&amp;rsquo;s RX On Power On *-boot0 version : 4.</description></item><item><title>eMMC Layout</title><link>/posts/filesystem/20211029-emmc-layout/</link><pubDate>Fri, 29 Oct 2021 16:02:52 +0000</pubDate><guid>/posts/filesystem/20211029-emmc-layout/</guid><description>--------fastboot partitions-------- -total partitions:9- -name- -start- -size- boot-res : 1000000 800000 env : 1800000 1000000 app : 2800000 4000000 recovery : 6800000 20000000 system_a : 26800000 20000000 system_b : 46800000 20000000 Download : 66800000 21000000 reserve : 87800000 1000000 UDISK : 88800000 0 -----------------------------------</description></item><item><title>29/10/2021 Progress Update</title><link>/posts/20211029-progress/</link><pubDate>Fri, 29 Oct 2021 14:57:23 +0000</pubDate><guid>/posts/20211029-progress/</guid><description>Opened up the vacuum cleaner and had a look at the circuit board.
Findings can be found in the Teardown post
Also plugged my laptop into the USB port on the top of the unit.
Seems to be some sort of custom ADB implementation; as I couldn&amp;rsquo;t do much with adb tools.</description></item><item><title>USB Port</title><link>/posts/system/usb-port/</link><pubDate>Fri, 29 Oct 2021 13:57:53 +0000</pubDate><guid>/posts/system/usb-port/</guid><description>Device ID Bus 001 Device 004: ID 1f3a:1001 Allwinner Technology Rockrobo ruby
dmesg output [5991703.724675] usb 1-2: new high-speed USB device number 4 using xhci_hcd [5991703.881398] usb 1-2: New USB device found, idVendor=1f3a, idProduct=1001, bcdDevice= 2.33 [5991703.881400] usb 1-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3 [5991703.</description></item><item><title>26/10/2021 Progress Update</title><link>/posts/20211026-progress/</link><pubDate>Wed, 27 Oct 2021 07:21:45 +0000</pubDate><guid>/posts/20211026-progress/</guid><description>Have been preoccupied with getting a bunch of stuff repaired/quoted/replaced after a power surge hit &amp;ldquo;some&amp;rdquo; (a lot) devices. Anyhow, I was out of network cables so I went ahead and crimped some more.
The Roborock IoT DHCP and WAN comes out from the router (top, eth8) into the TP-Link switch (bottom right, eth5) The port mirror sink is on the switch (eth2) The wireless access point is on the switch (eth1)</description></item><item><title>Capturing Packets on Android</title><link>/posts/capturing-packets-on-android/</link><pubDate>Mon, 25 Oct 2021 15:28:48 +0000</pubDate><guid>/posts/capturing-packets-on-android/</guid><description>In order to capture the network activity during the process of pairing the Roborock - I needed to also log the network activity from my Android phone that was running Xiaomi Home.
I ended up using PCAPdroid, which allowed me to target a specific app (or just everything) to capture network activity from.</description></item><item><title>Roborock S6 Teardown</title><link>/posts/roborock-s6-teardown/</link><pubDate>Mon, 25 Oct 2021 15:09:51 +0000</pubDate><guid>/posts/roborock-s6-teardown/</guid><description>Charging Station Model Number: CDZ08RR / CDZ08RR
Circuit Four IR sensors
Infrared Helps the Roborock to locate the base station
Is there a specific IR code it broadcasts? Not really security though Vacuum Cleaner Status LED</description></item><item><title>25/10/2021 Progress Update</title><link>/posts/20211025-progress/</link><pubDate>Mon, 25 Oct 2021 14:46:46 +0000</pubDate><guid>/posts/20211025-progress/</guid><description>Observations Power Usage
Idle Power: 0.2W
Whilst Charging
Internal AP
Xiaomi procedure
Hosts an AP on boot (or is it just pairing?)
Testing AP (isolated)
Pairing
Internet required to pair the Roborock to a Mi account
makes sense though Data Encryption</description></item><item><title>Project Focus</title><link>/posts/project-focus/</link><pubDate>Mon, 18 Oct 2021 03:34:43 +0000</pubDate><guid>/posts/project-focus/</guid><description>Software Security
Flaws in the protocol (i.e. confidentiality, exploits) Firmware How long can the wifi ssid/password be :) Privacy
What data is being transmitted Sensors - what can it see? What data is stored on the device Does that data get cleared during a reset?</description></item><item><title>Report A Preparation</title><link>/posts/report-a-preparation/</link><pubDate>Mon, 18 Oct 2021 03:02:25 +0000</pubDate><guid>/posts/report-a-preparation/</guid><description>Literature Review (50%) Distinction -&amp;gt; Is the student showing that they understand the conceptual relationships between the different reviewed works. The most significant areas of literature relevant to the proposed work have been reviewed and the student has clearly identified one or more knowledge gaps.</description></item><item><title>Thesis Tasks</title><link>/posts/thesis-tasks/</link><pubDate>Mon, 18 Oct 2021 02:57:16 +0000</pubDate><guid>/posts/thesis-tasks/</guid><description>Define the problem: with the topic description as starting point, you need to describe in more detail what the problems are or what the product is. You also need to motivate the work and say why it is important that it should be done.</description></item><item><title>State of the Art</title><link>/posts/state-of-the-art/</link><pubDate>Mon, 18 Oct 2021 02:56:25 +0000</pubDate><guid>/posts/state-of-the-art/</guid><description> Existing research into the Roborock by Dennie Giese (2019) Allowed the expansion for custom software firmware (DustCloud, Valetudo, RRoR, MiCloudFaker) Roborock Founded in 2014 https://roborock.com.au/pages/about-us Partnered with Xiaomi (investor) Developed the Xiaomi Mi Robot along with other devices Have since been also releasing their own products Partnership -&amp;gt; Uses the Xiaomi Protocol RE MiIO Alexa, Google Assistant, Siri Home IoT, Home Assistant, OpenHAB</description></item><item><title>Points of Contact</title><link>/posts/points-of-contact/</link><pubDate>Tue, 05 Oct 2021 08:14:37 +0000</pubDate><guid>/posts/points-of-contact/</guid><description>Wireless Device Pairing When pairing the device over WiFi (for initial setup), the device acts as a wireless AP and hosts a wireless network roborock-***. Using a smartphone (with the Mi Home app) we can connect to this network, in order to transfer the configuration data.</description></item><item><title>Capturing Network Activity (Securely)</title><link>/posts/capturing-network-activity-securely/</link><pubDate>Tue, 28 Sep 2021 12:00:00 +0000</pubDate><guid>/posts/capturing-network-activity-securely/</guid><description>In order to better understand what the vacuum cleaner is doing, I need to figure out what the vacuum cleaner is both sending and receiving!
This means that I will need to do some packet capturing, to get the TCP / UDP / etc&amp;hellip; packets; but what&amp;rsquo;s the best (and budget-friendly) way to do that?</description></item></channel></rss>