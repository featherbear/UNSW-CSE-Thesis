<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Posts on CSE Thesis Musings</title><link>/posts/</link><description>Recent content in Posts on CSE Thesis Musings</description><generator>Hugo -- gohugo.io</generator><language>en</language><copyright>&amp;copy; 2021 &lt;a href="https://featherbear.cc">Andrew Wong (z5206677)&lt;/a></copyright><lastBuildDate>Sat, 30 Oct 2021 05:09:12 +0000</lastBuildDate><atom:link href="/posts/index.xml" rel="self" type="application/rss+xml"/><item><title>System Imaging</title><link>/posts/system-imaging/</link><pubDate>Sat, 30 Oct 2021 05:09:12 +0000</pubDate><guid>/posts/system-imaging/</guid><description>Once root is acquired, we need a way to dump the entire filesystem on the flash chip - so that we can do some (safer) offline analysis of the system. What&amp;rsquo;s the best way to do this?
dd Make an exact (byte-to-byte) copy of the disk - will also include unused space</description></item><item><title>30/10/2021 Progress Update</title><link>/posts/20211030-progress/</link><pubDate>Fri, 29 Oct 2021 16:41:37 +0000</pubDate><guid>/posts/20211030-progress/</guid><description>Removed the logic board from the robot and had a look at the pins near the Allwinner R16 processor / SoC. Read Dennis' writeup about the UART pins being located on RX:TPA15, TX:TPA8, GND:TPA16
I then soldered some wires onto the test pins (too hard to just hold it with my hands)</description></item><item><title>I am root!</title><link>/posts/i-am-root/</link><pubDate>Fri, 29 Oct 2021 16:38:37 +0000</pubDate><guid>/posts/i-am-root/</guid><description>From the bootloader, we can dump the file vinda in the ext4 partition at emmc2:6.
sunxi#ext4load ext4load - load binary file from a Ext4 filesystem Usage: ext4load &amp;lt;interface&amp;gt; &amp;lt;dev[:part]&amp;gt; [addr] [filename] [bytes] - load binary file 'filename' from 'dev' on 'interface' to address 'addr' from ext4 filesystem sunxi#ext4load mmc 2:6 0 vinda Loading file &amp;quot;vinda&amp;quot; from mmc device 2:6 16 bytes read sunxi#md 0 4 00000000: 5b415243 51454346 54505042 525f5655 CRA[FCEQBPPTUV_R The string of bytes can be XOR&amp;rsquo;d with the byte 0x37 to gain the root password.</description></item><item><title>UART / Preboot Communications</title><link>/posts/uart-preboot-communications/</link><pubDate>Fri, 29 Oct 2021 16:35:19 +0000</pubDate><guid>/posts/uart-preboot-communications/</guid><description>Gaining Access TPA16 is the GND TPA15 is the device&amp;rsquo;s RX pin - Connect this to your UART client&amp;rsquo;s TX TPA8 is the device&amp;rsquo;s TX pin - Connect this to your UART client&amp;rsquo;s RX On Power On *-boot0 version : 4.</description></item><item><title>eMMC Layout</title><link>/posts/emmc-layout/</link><pubDate>Fri, 29 Oct 2021 16:02:52 +0000</pubDate><guid>/posts/emmc-layout/</guid><description>--------fastboot partitions-------- -total partitions:9- -name- -start- -size- boot-res : 1000000 800000 env : 1800000 1000000 app : 2800000 4000000 recovery : 6800000 20000000 system_a : 26800000 20000000 system_b : 46800000 20000000 Download : 66800000 21000000 reserve : 87800000 1000000 UDISK : 88800000 0 -----------------------------------</description></item><item><title>29/10/2021 Progress Update</title><link>/posts/20211029-progress/</link><pubDate>Fri, 29 Oct 2021 14:57:23 +0000</pubDate><guid>/posts/20211029-progress/</guid><description>Opened up the vacuum cleaner and had a look at the circuit board.
Findings can be found in the Teardown post
Also plugged my laptop into the USB port on the top of the unit.
Seems to be some sort of custom ADB implementation; as I couldn&amp;rsquo;t do much with adb tools.</description></item><item><title>USB Port</title><link>/posts/usb-port/</link><pubDate>Fri, 29 Oct 2021 13:57:53 +0000</pubDate><guid>/posts/usb-port/</guid><description>Device ID Bus 001 Device 004: ID 1f3a:1001 Allwinner Technology Rockrobo ruby
dmesg output [5991703.724675] usb 1-2: new high-speed USB device number 4 using xhci_hcd [5991703.881398] usb 1-2: New USB device found, idVendor=1f3a, idProduct=1001, bcdDevice= 2.33 [5991703.881400] usb 1-2: New USB device strings: Mfr=1, Product=2, SerialNumber=3 [5991703.</description></item><item><title>26/10/2021 Progress Update</title><link>/posts/20211026-progress/</link><pubDate>Wed, 27 Oct 2021 07:21:45 +0000</pubDate><guid>/posts/20211026-progress/</guid><description>Have been preoccupied with getting a bunch of stuff repaired/quoted/replaced after a power surge hit &amp;ldquo;some&amp;rdquo; (a lot) devices. Anyhow, I was out of network cables so I went ahead and crimped some more.
The Roborock IoT DHCP and WAN comes out from the router (top, eth8) into the TP-Link switch (bottom right, eth5) The port mirror sink is on the switch (eth2) The wireless access point is on the switch (eth1)</description></item><item><title>Capturing Packets on Android</title><link>/posts/capturing-packets-on-android/</link><pubDate>Mon, 25 Oct 2021 15:28:48 +0000</pubDate><guid>/posts/capturing-packets-on-android/</guid><description>In order to capture the network activity during the process of pairing the Roborock - I needed to also log the network activity from my Android phone that was running Xiaomi Home.
I ended up using PCAPdroid, which allowed me to target a specific app (or just everything) to capture network activity from.</description></item><item><title>Roborock S6 Teardown</title><link>/posts/roborock-s6-teardown/</link><pubDate>Mon, 25 Oct 2021 15:09:51 +0000</pubDate><guid>/posts/roborock-s6-teardown/</guid><description>Charging Station Model Number: CDZ08RR / CDZ08RR
Circuit Four IR sensors
Infrared Helps the Roborock to locate the base station
Is there a specific IR code it broadcasts? Not really security though Vacuum Cleaner Status LED</description></item><item><title>25/10/2021 Progress Update</title><link>/posts/20211025-progress/</link><pubDate>Mon, 25 Oct 2021 14:46:46 +0000</pubDate><guid>/posts/20211025-progress/</guid><description>Observations Power Usage
Idle Power: 0.2W
Whilst Charging
Internal AP
Xiaomi procedure
Hosts an AP on boot (or is it just pairing?)
Testing AP (isolated)
Pairing
Internet required to pair the Roborock to a Mi account
makes sense though Data Encryption</description></item><item><title>Project Focus</title><link>/posts/project-focus/</link><pubDate>Mon, 18 Oct 2021 03:34:43 +0000</pubDate><guid>/posts/project-focus/</guid><description>Software Security
Flaws in the protocol (i.e. confidentiality, exploits) Firmware How long can the wifi ssid/password be :) Privacy
What data is being transmitted Sensors - what can it see? What data is stored on the device Does that data get cleared during a reset?</description></item><item><title>Report A Preparation</title><link>/posts/report-a-preparation/</link><pubDate>Mon, 18 Oct 2021 03:02:25 +0000</pubDate><guid>/posts/report-a-preparation/</guid><description>Literature Review (50%) Distinction -&amp;gt; Is the student showing that they understand the conceptual relationships between the different reviewed works. The most significant areas of literature relevant to the proposed work have been reviewed and the student has clearly identified one or more knowledge gaps.</description></item><item><title>Thesis Tasks</title><link>/posts/thesis-tasks/</link><pubDate>Mon, 18 Oct 2021 02:57:16 +0000</pubDate><guid>/posts/thesis-tasks/</guid><description>Define the problem: with the topic description as starting point, you need to describe in more detail what the problems are or what the product is. You also need to motivate the work and say why it is important that it should be done.</description></item><item><title>State of the Art</title><link>/posts/state-of-the-art/</link><pubDate>Mon, 18 Oct 2021 02:56:25 +0000</pubDate><guid>/posts/state-of-the-art/</guid><description> Existing research into the Roborock by Dennie Giese (2019) Allowed the expansion for custom software firmware (DustCloud, Valetudo, RRoR, MiCloudFaker) Roborock Founded in 2014 https://roborock.com.au/pages/about-us Partnered with Xiaomi (investor) Developed the Xiaomi Mi Robot along with other devices Have since been also releasing their own products Partnership -&amp;gt; Uses the Xiaomi Protocol RE MiIO Alexa, Google Assistant, Siri Home IoT, Home Assistant, OpenHAB</description></item><item><title>Points of Contact</title><link>/posts/points-of-contact/</link><pubDate>Tue, 05 Oct 2021 08:14:37 +0000</pubDate><guid>/posts/points-of-contact/</guid><description>Wireless Device Pairing When pairing the device over WiFi (for initial setup), the device acts as a wireless AP and hosts a wireless network roborock-***. Using a smartphone (with the Mi Home app) we can connect to this network, in order to transfer the configuration data.</description></item><item><title>Capturing Network Activity (Securely)</title><link>/posts/capturing-network-activity-securely/</link><pubDate>Tue, 28 Sep 2021 12:00:00 +0000</pubDate><guid>/posts/capturing-network-activity-securely/</guid><description>In order to better understand what the vacuum cleaner is doing, I need to figure out what the vacuum cleaner is both sending and receiving!
This means that I will need to do some packet capturing, to get the TCP / UDP / etc&amp;hellip; packets; but what&amp;rsquo;s the best (and budget-friendly) way to do that?</description></item></channel></rss>